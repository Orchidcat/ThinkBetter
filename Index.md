#SQLServer/Internal 

SQL Server 还通过 **IAM 页**跟踪哪些页面属于哪些索引。
但是，索引在组织和结构方面与堆有着根本的不同。无论是聚集索引还是非聚集索引，都根据定义的索引键以保证的**逻辑顺序存储数据页**（物理上，SQL Server 可能会无序存储页面）。

从结构上讲，非聚集索引和聚集索引是相同的。两者都将索引页存储在称为**b 树的**结构中。但是，非聚集索引仅存储带有索引键值和指向数据行的指针的 b 树结构，而聚集索引则同时存储带有键的 b 树和位于 b 树叶级别的实际行数据。因此，每个表只能有一个聚集索引，因为数据只能存储在一个位置，但可以有许多指向基础数据的非聚集索引。使用非聚集索引，我们可以包含某些列的数据副本，例如，这样我们就可以读取经常访问的列而无需触及基础数据，同时忽略其余列或跟随索引指针到存储其余数据的位置。

对于非聚集索引，指向实际数据的指针可能有两种形式。如果我们在堆上创建非聚集索引，则定位记录的唯一方法是通过其物理位置。这意味着非聚集索引将以 8 字节行标识符的形式存储指针。另一方面，如果我们在聚集索引上创建非聚集索引，则指针实际上是聚集键的副本，使我们能够在聚集索引中查找实际数据。如果聚集键包含非聚集索引键中已经存在的列，则这些列不会被重复，因为它们已经作为非聚集索引键的一部分存储。