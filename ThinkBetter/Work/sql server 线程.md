#SQLServer 

线程是最低的执行单元。您的 SQL 查询至少需要一个线程来运行。根据 SQL 实例配置和查询的资格，SQL Server 可能决定使用多个线程执行查询 - 这称为并行性。如果并行处理太多此类工作负载并且它们运行时间较长，则后续传入查询甚至可能无法运行一个线程。换句话说，它们将等待分配给它们的线程，因为根据硬件上的处理器数量，SQL Server 的线程数量（默认情况下）有限。这种等待称为THREADPOOL。

这不是一个好的情况，并且可能会被忽视。如果您面临这种等待类型，请考虑减少并行性（方法之一）。考虑增加并行成本阈值（服务器配置），以便并非所有廉价工作负载都并行。或者将 MAXDOP 值更改为合理的数字，例如 4。尤其是在具有很多内核的硬件上。也许您可以将 MAXDOP 设置为每个 NUMA 节点的核心数。这将减少并行性，从而使线程池中可以使用更多线程